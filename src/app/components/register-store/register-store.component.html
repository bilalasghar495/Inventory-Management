<div class="register-store-page">
  <app-image-panel></app-image-panel>

  <div class="register-store-container">
    <div class="register-store-content">
        <div (click)="onBack()" class="back-button cursor-pointer">
            <svg class="w-3 h-3 text-gray-800" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 8 14">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 1 1.3 6.326a.91.91 0 0 0 0 1.348L7 13"/>
            </svg>           
            <!-- <span class="text-sm font-medium">Back</span> -->
            <p class="text-lg font-medium text-gray-900">Back</p>

        </div>
      <div class="register-store-header">
        <h1 class="register-store-title">Connect Your Shopify Store</h1>
        <p class="register-store-description">Enter your storeâ€™s Shopify URL to continue</p>
      </div>

      <!-- If app is not installed -->
      <div *ngIf="showReinstallAppAlert">
        <div id="alert-additional-content-2" class="p-4 mb-4 text-red-800 border border-red-300 rounded-lg bg-red-50" role="alert">
            <div class="flex items-center">
              <svg class="shrink-0 w-4 h-4 me-2" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                <path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"/>
              </svg>
              <span class="sr-only">Info</span>
              <h3 class="text-lg font-medium">App Uninstalled</h3>
            </div>
            <div class="mt-2 text-sm">
              App has been uninstalled from your store. Please Install the app again to continue.
            </div>
          </div>
      </div>

      <form class="form-root" [formGroup]="form" (ngSubmit)="onFormSubmit()">
        <div class="form-group">
          <label for="storeUrl">Store URL</label>
          <input 
            type="text" 
            id="storeUrl" 
            formControlName="storeUrl" 
            placeholder="yourstore.myshopify.com" 
            class="form-input"
          />
          <div *ngIf="fc_storeUrl.invalid && (fc_storeUrl.dirty || fc_storeUrl.touched)" class="error-message">
            <small *ngIf="fc_storeUrl.errors?.['required']">Store URL is required</small>
            <small *ngIf="fc_storeUrl.errors?.['pattern']">Please enter a valid URL</small>
          </div>
        </div>

        <div class="form-group">
          <label for="storeUrl">Access Token</label>
          <input 
            type="text" 
            id="accessToken" 
            formControlName="accessToken" 
            placeholder="Enter access token" 
            class="form-input"
          />
          <div *ngIf="fc_accessToken.invalid && (fc_accessToken.dirty || fc_accessToken.touched)" class="error-message">
            <small *ngIf="fc_accessToken.errors?.['required']">Access Token is required</small>
          </div>
        </div>

        <!-- <div class="form-group">
            <label for="storeUrl">Api Key</label>
            <input 
              type="text" 
              id="apiKey" 
              formControlName="apiKey" 
              placeholder="Enter api key" 
              class="form-input"
            />
            <div *ngIf="fc_apiKey.invalid && (fc_apiKey.dirty || fc_apiKey.touched)" class="error-message">
              <small *ngIf="fc_apiKey.errors?.['required']">Api Key is required</small>
            </div>
        </div>

        <div class="form-group">
            <label for="storeUrl">Api Secret Key</label>
            <input 
              type="text" 
              id="apiSecretKey" 
              formControlName="apiSecretKey" 
              placeholder="Enter api secret key" 
              class="form-input"
            />
            <div *ngIf="fc_apiSecretKey.invalid && (fc_apiSecretKey.dirty || fc_apiSecretKey.touched)" class="error-message">
              <small *ngIf="fc_apiSecretKey.errors?.['required']">Api Secret Key is required</small>
            </div>
        </div> -->

        <div class="form-actions">
          <button 
            type="submit" 
            class="btn-primary" 
            [class.show-loading]="showFormLoading" 
            [class.loader-hide-text]="showFormLoading">
            <span>Register Store</span>
          </button>

          <button type="button" class="btn-skip" (click)="onSkip()">Skip for now</button>
        </div>
      </form>
    </div>
  </div>
</div>

