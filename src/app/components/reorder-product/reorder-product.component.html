<div class="content-card">
        <div class="search-actions-section">
          <div class="search-bar">
            <svg class="search-icon" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="9" cy="9" r="5.5" stroke="#9CA3AF" stroke-width="1.5"/>
              <path d="M13 13L16.5 16.5" stroke="#9CA3AF" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
            <input 
              type="text" 
              placeholder="Search" 
              class="search-input"
              [value]="searchTerm()"
              (input)="onSearchInput($event)"
            />
          </div>
          
          <div class="actions-container">

            <select
              id="shortRange"
              (change)="onShortRangeChange($any($event.target).value)" 
              class="flex items-center gap-2 py-2 px-3 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:border-gray-500 hover:bg-gray-200 hover:text-black transition-colors"
              >              
                <option value="" disabled>Select a period</option>
                <option value="7" selected> per day sold 7 days</option>
                <option value="1"> per day sold 1 days</option>
                <option value="14"> per day sold 14 days</option>
                <option value="30"> per day sold 30 days</option>
            </select>

            <select 
              id="longRange"
              (change)="onLongRangeChange($any($event.target).value)"
              class="flex items-center gap-2 py-2 px-3 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:border-gray-500 hover:bg-gray-200 hover:text-black transition-colors"
              >
                <option value="" disabled>Select a period</option>
                <option value="7"> per day sold 7 days</option>
                <option value="14"> per day sold 14 days</option>
                <option value="30" selected> per day sold 30 days</option>
            </select>

            <select 
              id="urgencyLevel"
              [value]="urgencyLevel() || ''"
              (change)="onUrgencyLevelChange($any($event.target).value)"
              class="flex items-center gap-2 py-2 px-3 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:border-gray-500 hover:bg-gray-200 hover:text-black transition-colors"
              >
                <option value="">Sort by urgency level</option>
                <option value="LOW">Sort by Low</option>
                <option value="MEDIUM">Sort by Medium</option>
                <option value="HIGH">Sort by High</option>
                <option value="CRITICAL">Sort by Critical</option>
            </select>

          <button type="button" class="flex items-center gap-2 py-2 px-3 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:border-gray-500 hover:bg-gray-200 hover:text-black transition-colors" (click)="exportToCsv()">
            <svg class="w-4 h-4 text-black" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 18">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 1v11m0 0 4-4m-4 4L4 8m11 4v3a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-3"/>
            </svg>
            Export
          </button>

          <button type="button" class="flex items-center gap-2 py-2 px-3 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:border-gray-500 hover:bg-gray-200 hover:text-black transition-colors" (click)="refreshProducts()">
            <svg class="w-4 h-4 text-black" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 18">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 14 3-3m-3 3 3 3m-3-3h16v-3m2-7-3 3m3-3-3-3m3 3H3v3"/>
           </svg>
          </button>

          </div>
        </div>

        <div class="table-container">
          <table class="inventory-table">
            <thead>
              <tr>
                <!-- <th class="checkbox-column">
                  <input type="checkbox" class="select-all-checkbox">
                </th> -->
                <th>Image</th>
                <th rowspan="2" class="sortable-column">
                  Product
                </th>
                <!-- <th rowspan="2">Variant Name</th> -->
                <th>Available</th>
                <th>Incoming</th>
                <th>Sold Per Day( {{ shortRange() }} days ) </th>
                <th>Suggested Reorder Qty( {{ shortRange() }} days )</th>
                <th>Sold Per Day( {{ longRange() }} days )</th>
                <th>Suggested Reorder Qty( {{ longRange() }} days )</th>
                <th>Suggested Reorder Qty( Average )</th>
                <th>Urgency</th>
              </tr>
            <tbody>
              <!-- Skeleton Loader -->
               @if( isSkeletonLoading() ) {
                  <tr *ngFor="let item of [].constructor(itemsPerPage()); let i = index" class="table-row skeleton-row">
                    <td class="image-column">
                      <div class="skeleton skeleton-image"></div>
                    </td>
                    <td><div class="skeleton skeleton-text"></div></td>
                    <td><div class="skeleton skeleton-text-sm"></div></td>
                    <td><div class="skeleton skeleton-text-sm"></div></td>
                    <td><div class="skeleton skeleton-text-sm"></div></td>
                    <td><div class="skeleton skeleton-text-sm"></div></td>
                    <td><div class="skeleton skeleton-text-sm"></div></td>
                    <td><div class="skeleton skeleton-text-sm"></div></td>
                    <td><div class="skeleton skeleton-text-sm"></div></td>
                    <td><div class="skeleton skeleton-text-sm"></div></td>
                  </tr>
              } @else {
                @for( product of paginatedProducts(); track product.productId + '-' + product.variantId ) {
                  <tr class="table-row">
                    <td class="image-column">
                      <img [src]="product.productImage" 
                          [alt]="product.productName"
                          class="product-image">  
                    </td>
                    <td>
                      <span class="font-bold">{{ product.productName }}</span><br>
                      <span class="sku text-xs text-gray-400">SKU:&nbsp;{{ product.sku }}</span>
                    </td>
                    <td>{{ product.availableStock }}</td>
                    <td>{{ product.incomingStock }}</td>
                    <td>{{ product.perDaySoldShortRange | number:'1.0-2' }}</td>
                    <td class="Suggested-qty">{{ product.recommendedRestockShortRange | number:'1.0-2' }}</td>
                    <td>{{ product.perDaySoldLongRange | number:'1.0-2' }}</td>
                    <td class="Suggested-qty">{{ product.recommendedRestockLongRange | number:'1.0-2' }}</td>
                    <td class="Suggested-qty">{{ product.recommendedAverageStock | number:'1.0-2' }}</td>
                    <td>
                      <span [class]="'urgency-' + product.urgencyLevel.toLowerCase()"
                      [matTooltip]="getUrgencyTooltip(product.urgencyLevel)"
                      matTooltipPosition="above"
                      class="cursor-pointer">
                      {{ product.urgencyLevel }}
                      </span>
                    </td>
                  </tr>
                } @empty {
                  <tr>
                    <td colspan="100%" class="text-center">No products found</td>
                  </tr>
                }
              }
            </tbody>
          </table>
        </div>

        <app-pagination
          [currentPage]        = "currentPage()"
          [itemsPerPage]       = "itemsPerPage()"
          [totalItems]         = "totalFilteredItems()"
          (pageChange)         = "onPageChange($event)"
          (itemsPerPageChange) = "onItemsPerPageChange($event)"
          >
        </app-pagination>
</div>